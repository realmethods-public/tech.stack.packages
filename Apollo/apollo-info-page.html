<!--
  realMethods Confidential
  
  2018 realMethods, Inc.
  All Rights Reserved.
  
  This file is subject to the terms and conditions defined in
  file 'license.txt', which is part of this source code package.
   
  Contributors :
        realMethods Inc - General Release
-->
<style type="text/css">

  .topicColClass {
  	color:blue;
  	font-size:1.0em;
  	vertical-align:center;
  	text-align:left;
        padding-left:10px;
  }
  
  .respColClass, .respCenterColClass {
    text-align:left;
    padding-left:10px;
    font-size:1.0em;
  }  
</style>
<div style="border-style:outset;border-color:#eeeeee">
	<h2 style="text-align:center">Apollo GraphQL Server</h2>

    <table> 
      <tr>
        <td style="padding:10px">
          <div style="background:#eeeeee;height:450px;overflow:auto;padding:10px">
			<h3>Intent</h3>
			<p>
			To create an application that uses:
			<ul>
			<li>GraphQL implementation using Apollo GraphQL Server
			<li>Default persistence use SQLite with Sequelize for object to relational mapping
			<li>A Git repository to commit application files
			</ul>
			<p>
			<h3>Usage</h3>
			<h4>Create an Apollo Account</h4>
			<p>
			In order to use the Apollo GraphQL Server, you first must create an account at <code>https://www.apollographql.com/</code>.
			</p>

			<h4>Create a New Service</h4>
			<p>
			You next have to create a service within your account.  When the service is created, you will be provided with an Apollo Engine API key of the form:
			
			<code>service:complexmathguy-8970:uygF3DDPKQ8EsexaUaPfVg</code>.  You will need to provide this the <i>engine-api-key</i> input parameter to realMethods in order for it to be 
			applied within the generated application files.
			</p>
			<p>
			Also, apply the name of the service <i>service</i> as another input parameter. This is the text between the 2 colons (:) of the the engine-api-key 			
			</p>
			
			<h4>Install the application</h4>			
			<p>
			The following instructions assume NPM is installed. If not, you can download it by installing Node.js at <code>https://nodejs.org/en/download/</code>.
			</p>
			<p>
			Once the applicaton files have ben pulled (or cloned) from your Git repository, cd to the application directory.  This directory 
			will be named as the application name provided as part of the input parameters.
			</p>
            <p>
            From this directory, install the app dependencies by running the following command:
            <code>npm install</code>
            </p>
            
			<h4>Running the Apollo Server</h4>
			<p>
			<code>npm start</code>
			will start the Apollo GraphQL server, listening on default port 4000.
			</p>
			
			<h4>Publish the Generated Schema</h4>
			<p>
			From another process, once the Apollo server has completed started startup, push the generated schema to the Apollo registry:
			<code>npx apollo service:push --endpoint=http://localhost:4000</code>
			</p>

			<h4>Test Generated GraphQL API</h4>		
			<p>
			To run the Apollo Client from your browser, <code>http://localhost:4000</code>
			</p>
			
      </td>
      <td style="vertical-align:top;width:250px;padding:20px">
  	  	  <!-- image -->
  	  	  <img src="./img/apollo.png" align="top"/>
      </td>
    </tr>
  </table>
</div>